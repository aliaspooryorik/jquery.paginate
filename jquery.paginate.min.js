//https://github.com/aliaspooryorik/jquery.paginate
(function($){"use strict";var methods={};$.fn.paginate=function(options){if(methods[options]){var args=Array.prototype.slice.call(arguments,1);this.each(function(){var instance=$.data(this,'paginate');instance[options].apply(instance,args)})}else if(typeof options==='object'){this.each(function(){var instance=$.data(this,'paginate');if(!instance){$.data(this,'paginate',new $.paginate(options,this))}})}else{$.error('Method '+options+' does not exist on jQuery.paginate')}return this};$.paginate=function(options,element){this.$el=$(element);this.init(options)};$.paginate.prototype={init:function(options){this.options=$.extend({'itemsperpage':9,'pagingtop':true,'pagingbottom':true,'classname':'','lazyload':true,'element':'div'},options);var $this=this.$el,context=this,i=0;this.currentPage=1;this.$items=$this.find('>'+this.options.element).hide();this.pagecount=Math.ceil(this.$items.length/this.options.itemsperpage);this.$pager=$('<ol>').addClass('paging-control '+this.options.classname);this.pagingcontrols=[];if(this.pagecount>1&&(this.options.pagingtop||this.options.pagingbottom)){if(this.options.lazyload){this.$items.find('img').each(function(){var $this=$(this);if(typeof $(this).data('src')=="undefined"){$(this).data('src',this.src).removeAttr('src')}})}for(i=1;i<this.pagecount+1;i++){$('<li>').text(i).attr('data-page',i).on('click',function(e){var $self=$(this);context.showPage($self.attr('data-page'));e.preventDefault()}).appendTo(this.$pager)}$('<li>').text('all').on('click',function(){var $self=$(this);context.showAll()}).appendTo(this.$pager);if(this.options.pagingtop){$('<div class="paginator top" data-context="'+$this.attr('id')+'">').insertBefore($this)}if(this.options.pagingbottom){$('<div class="paginator bottom" data-context="'+$this.attr('id')+'">').insertAfter($this)}this.pagingcontrols=this.$pager.appendTo('div.paginator[data-context="'+$this.attr('id')+'"]');context.showPage(1)}else{this.showAll()}},destroy:function(){return this.each(function(){$(window).unbind('.paginate')})},showPage:function(pageNumber){var start=(pageNumber-1)*this.options.itemsperpage,$currentitems=this.$items.hide().slice(start,start+this.options.itemsperpage);if(this.pagingcontrols.length!==0){$('>li',this.pagingcontrols).removeClass('active').filter('[data-page='+pageNumber+']').addClass('active')}$currentitems.fadeIn().find('img').each(function(){var $img=$(this);if(typeof $img.data('src')!=="undefined"){this.src=$img.data('src');$img.removeAttr('data-src')}})},showAll:function(){this.$items.show().find('img').each(function(){var $img=$(this);if(typeof $img.data('src')!=="undefined"){this.src=$img.data('src');$img.removeAttr('data-src')}});$.each(this.pagingcontrols,function(){$('>li',this).removeClass('active').last().addClass('active')})}}})(jQuery);
